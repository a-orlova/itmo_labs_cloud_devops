# Лабораторная №2 по DevOps

Выполнили:

**Орлова Алёна (К3223)**

**Феофанов Никита (К3222)**

# Задание
1. Написать “плохой” Dockerfile, в котором есть не менее трех “bad practices” по написанию докерфайлов
2. Написать “хороший” Dockerfile, в котором эти плохие практики исправлены
3. Описать каждую из плохих практик в плохом докерфайле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат
4. Описать 2 плохих практики по работе с контейнерами. ! Не по написанию докерфайлов, а о том, как даже используя хороший докерфайл можно накосячить именно в работе с контейнерами.

# Устанавливаем докер

Начинаем лабораторную работу с установки докера. Для этого пишем в терминале поочередно следующие команды:

```bash
sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu focal stable"
sudo apt update
apt-cache policy docker-ce
sudo apt install docker-ce
sudo systemctl status docker
```
Получаем такой вывод, значит все получилось:

![image](https://github.com/user-attachments/assets/4ad21e55-1866-4ae5-8c31-f00b795fa872)

Докер успешно установлен, переходим к первому заданию лабораторной работы. 

# "Плохой" Dockerfile
В первую очередь хочется вообще узнать, что за такие "bad practices" по написанию докерфайлов существуют. Просерчив инет, выделили ряд основных и наиболее часто встречающихся:

* использование latest версии образа
* множественные команды RUN
* отсутствие очистки временных файлов
* установка ненужных пакетов
* отсутствие многослойной сборки 
* копирование лишних файлов в контейнер
* запуск приложения от имени root
* использование тяжелых базовых образов
* использование ADD вместо COPY без необходимости
* не указан рабочий каталог 

В наш "плохой" докерфайл сделали вот таким:


